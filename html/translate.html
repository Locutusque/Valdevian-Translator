<!DOCTYPE html>
<html>
<head>
    <title>Translator</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
         body {
            background-color: #3c3c3c;
        }
        .container {
            margin-top: 50px;
            text-align: center;
        }
        .loader {
            border: 16px solid #f3f3f3;
            border-top: 16px solid #ff4e00;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            margin: 0 auto;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #input_text {
            border: 2px solid #ff4e00;
            border-radius: 4px;
            padding: 10px;
            font-size: 16px;
            resize: none;
            width: 100%;
            margin-bottom: 20px;
            color: #fff;
            background-color: #3c3c3c;
        }
        #input_text:focus {
            outline: none;
            box-shadow: none;
            border-color: #ff4e00;
        }
        #output_text {
            display: inline-block;
            color: #fff;
        }
        #cursor {
  animation: blink 0.7s ease-in-out infinite;
  height: 1em;
  width: 0.5em;
  background-color: white;
  color: white;
  border: none;
  box-shadow: 0px 0px 4px 1px rgba(255, 78, 0, 0.7);
  border-radius: 4px;
  font-size: 20px;
  margin-left: 7px;
}
        @keyframes blink {
            50% {
                opacity: 0;
            }
        }
        h1 {
            font-size: 36px;
            color: #fff;
            margin-bottom: 20px;
        }
        hr {
            border-top: 2px solid #ff4e00;
            margin-top: 0px;
            margin-bottom: 20px;
        }
        .form-group label {
            font-size: 20px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 10px;
        }
        .form-control:focus {
            box-shadow: none;
            border-color: #ff4e00;
        }
        .blink {
            animation: blink 1s linear infinite;
        }
        @keyframes blink {
            50% {
                opacity: 0.5;
            }
        }

.btn-primary {
    background-color: #3498db;
    border-color: #3498db;
    font-size: 18px;
    font-weight: bold;
    padding: 10px 20px;
    border-radius: 4px;
    margin-top: 20px;
    transition: all 0.3s ease-in-out;
}

.btn-primary:hover {
    background-color: #2c80b9;
    border-color: #2c80b9;
    color: #fff;
}

.btn-primary:focus,
.btn-primary:active {
    outline: none;
    box-shadow: none;
}
/* Style for the dropdown container */
.dropdown {
  position: relative;
  display: inline-block;
}

/* Style for the dropdown button */
.dropdown button {
  background-color: #4CAF50;
  color: white;
  padding: 12px;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

/* Style for the dropdown content */
.dropdown-content {
  display: none;
  position: absolute;
  z-index: 1;
}

/* Style for the options in the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Style for the options in the dropdown when hovering over them */
.dropdown-content a:hover {
  background-color: #f1f1f1;
}

/* Show the dropdown content when the dropdown button is clicked */
.dropdown:hover .dropdown-content {
  display: block;
}

#req-btn {
  background-color: #fff;
  border: 2px solid #007bff;
  border-radius: 20px;
  color: #007bff;
  font-size: 16px;
  font-weight: bold;
  margin-top: 10px;
  padding: 10px 20px;
  text-transform: uppercase;
  transition: all 0.3s ease-in-out;
  transform: scale(1);
}

#req-btn:hover {
  background-color: #007bff;
  color: #fff;
  transform: scale(1.2);
}

#req-btn:not(:hover) {
  transform: scale(1);
}

    </style>
    <script type="text/javascript">
        var timer;
    
        $(document).ready(function() {
            $("#input_text").on("input", function() {
                clearTimeout(timer);
                timer = setTimeout(sendRequest, 500);
            });
        });
    
        function sendRequest() {
            $("#output_text").empty();
            var input_text = $("#input_text").val().trim();
            var model_input = $("#model-select").val()
            if (input_text.length > 0) {
                $(".loader").show();
                $.post("/translate", {"input_text": input_text, "model": model_input}, function(data) {
                    $(".loader").hide();
                    startTypingAnimation(data);
                });
            }
        }
    
        var typing = null;
var cursorVisible = false;

function startTypingAnimation(text) {
  var chars = text.split("");
  var i = 0;
  typing = setInterval(function() {
    if (i == chars.length) {
      stopTypingAnimation();
      return;
    }
    var char = chars[i];
    $("#output_text").text($("#output_text").text() + char);
    i++;
  }, 50);
}

function stopTypingAnimation() {
  clearInterval(typing);
  typing = null;
}
const t5SmallReq = "CPU: Quad-core 2.5 GHz or better<br>RAM: 16 GB or higher<br>Storage: 40 GB or more available space on a solid-state drive (SSD)<br>GPU: NVIDIA GeForce GTX 1080 or better<br>Operating System: 64-bit Windows 10 or Linux";
const t5BaseReq = "CPU: Octa-core 2.5 GHz or better<br>RAM: 32 GB or higher<br>Storage: 80 GB or more available space on a solid-state drive (SSD)<br>GPU: NVIDIA GeForce GTX 1080 or better<br>Operating System: 64-bit Windows 10 or Linux";
const t5LargeReq = "CPU: Octa-core 2.5 GHz or better<br>RAM: 32 GB or higher<br>Storage: 80 GB or more available space on a solid-state drive (SSD)<br>GPU: NVIDIA A100 or better<br>Operating System: 64-bit Linux";
const t53bReq = "CPU: 64-core 2.5 GHz or better<br>RAM: 256 GB or higher<br>Storage: 2 TB or more available space on a solid-state drive (SSD)<br>GPU: NVIDIA A100 or better<br>Operating System: 64-bit Linux";
const t511bReq = "CPU: 128-core 2.5 GHz or better<br>RAM: 1024 GB or higher<br>Storage: 10 TB or more available space on a solid-state drive (SSD)<br>GPU: NVIDIA A100 or better<br>Operating System: 64-bit Linux";

const dropdown = document.getElementById("model-select");
const sysReqs = document.getElementById("sys_reqs");

dropdown.addEventListener("change", (event) => {
  const selectedModel = event.target.value;
  let requirements;

  if (selectedModel === "t5-small") {
    requirements = t5SmallReq;
  } else if (selectedModel === "t5-base") {
    requirements = t5BaseReq;
  } else if (selectedModel === "t5-large") {
    requirements = t5LargeReq;
  } else if (selectedModel === "t5-3b") {
    requirements = t53bReq;
  } else if (selectedModel === "t5-11b") {
    requirements = t511bReq;
  }

  sysReqs.innerHTML = requirements;
});
    </script>
    
</head>
<body>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <h1>Translator</h1>
          <hr>
          <form>
            <div class="form-group">
              <label for="input_text">Enter text to translate:</label>
              <textarea class="form-control blink" id="input_text" name="input_text" rows="5" autofocus></textarea>
            </div>
          </form>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="loader"></div>
          <h2>Translation:</h2>
          <hr>
          <p id="output_text"></p><span id="cursor" class="hidden">|</span>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <label class="dropdown" for="model-select">Select a model:</label>
          <select class="dropdown" id="model-select">
            <option value="t5-small">T5 Small</option>
            <option value="t5-base">T5 Base</option>
            <option value="t5-large">T5 Large</option>
            <option value="t5-3b">T5 3B</option>
            <option value="t5-11b">T5 11B</option>
          </select>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="system-req">
            <button id="req-btn" onclick="window.location.href='/req'">System Requirements</button>
            <p id="sys_reqs"></p>
          </div>
        </div>
      </div>
    </div>
</html>
